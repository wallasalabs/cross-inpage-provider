{"version":3,"file":"static/chunks/2178.f8fbe614d6e1e5dd.js","mappings":"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","sources":["webpack://_N_E/./components/dappList/DAppList.tsx","webpack://_N_E/./components/near/dapps.config.ts","webpack://_N_E/./components/near/NearExample.tsx"],"sourcesContent":["import React from'react';import styles from'../../styles/Home.module.css';function DAppList(props){var dapps=props.dapps;return React.createElement(\"div\",{className:styles.container},React.createElement(\"h3\",null,\"Top DApps\"),React.createElement(\"ul\",null,dapps.map(function(dapp){return React.createElement(\"li\",{key:dapp.name},React.createElement(\"a\",{href:dapp.url,target:'_blank'},dapp.name,\" \\u2197\"));})));}export{DAppList};","export var dapps=[{name:'Paras',url:'https://paras.id/'},{name:'Learn Near Club',url:'https://learnnear.club/'},{name:'Ref Finance',url:'https://app.ref.finance/'}];","import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _regeneratorRuntime from\"@babel/runtime/regenerator\";import React from'react';import{OneKeyNearProvider}from'@onekeyfe/onekey-near-provider';import{useCallback,useEffect,useMemo,useState}from'react';import*as NearApi from'near-api-js';import{random}from'lodash';import BN from'bn.js';import{DAppList}from'../dappList/DAppList';import{dapps}from'./dapps.config';var hasWindow=typeof window!=='undefined';window.nearAPI=NearApi;window.OneKeyNearProvider=OneKeyNearProvider;function toBN(value){return new BN(value!=null?value:'',10);}function transactionCreator(_ref){var accountId=_ref.accountId,publicKey=_ref.publicKey,receiverId=_ref.receiverId,nonce=_ref.nonce,actions=_ref.actions,blockHash=_ref.blockHash;var publicKeyBuffer=NearApi.utils.PublicKey.fromString(publicKey);return NearApi.transactions.createTransaction(accountId,publicKeyBuffer,receiverId,nonce,actions,blockHash);}export default function NearExample(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),provider=_useState2[0],setProvider=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),accountId=_useState4[0],setAccountId=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),publicKey=_useState6[0],setPublicKey=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),networkId=_useState8[0],setNetworkId=_useState8[1];var createSampleBatchTransactions=useCallback(function _callee(){var num1,num2,action1,action2,tx1,tx2,transactions;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(provider){_context.next=2;break;}return _context.abrupt(\"return\",[]);case 2:num1=random(100,900)/10000;num2=random(100,900)/10000;action1=NearApi.transactions.transfer(toBN(NearApi.utils.format.parseNearAmount(\"\"+num1)));action2=NearApi.transactions.transfer(toBN(NearApi.utils.format.parseNearAmount(\"\"+num2)));_context.next=8;return _regeneratorRuntime.awrap(provider.createTransaction({receiverId:'bitcoinzhuo.testnet',actions:[action1,action2],nonceOffset:1}));case 8:tx1=_context.sent;_context.next=11;return _regeneratorRuntime.awrap(provider.createTransaction({receiverId:'evmzyz.testnet',actions:[action2],nonceOffset:2}));case 11:tx2=_context.sent;transactions=[tx1,tx2];return _context.abrupt(\"return\",transactions);case 14:case\"end\":return _context.stop();}}},null,null,null,Promise);},[provider]);var onAccountsChanged=useCallback(function(payload){var _payload$accounts,_payload$accounts$,_payload$accounts2,_payload$accounts2$;var _accountId=(payload==null?void 0:(_payload$accounts=payload.accounts)==null?void 0:(_payload$accounts$=_payload$accounts[0])==null?void 0:_payload$accounts$.accountId)||'';var _publicKey=(payload==null?void 0:(_payload$accounts2=payload.accounts)==null?void 0:(_payload$accounts2$=_payload$accounts2[0])==null?void 0:_payload$accounts2$.publicKey)||'';console.log('near onAccountsChanged >>>',_accountId,_publicKey);setAccountId(_accountId);setPublicKey(_publicKey);},[]);var onNetworkChanged=useCallback(function(payload){console.log('near onNetworkChanged >>>',payload);setNetworkId(payload.networkId);},[]);var config=useMemo(function(){return{networkId:'testnet',nodeUrl:'https://rpc.testnet.near.org',headers:{},keyStore:new NearApi.keyStores.BrowserLocalStorageKeyStore()};},[]);useEffect(function(){if(!hasWindow){}var _provider=new OneKeyNearProvider({transactionCreator:process.env.NODE_ENV!=='production'?transactionCreator:undefined});_provider.on('accountsChanged',onAccountsChanged);_provider.on('networkChanged',onNetworkChanged);window.provider=_provider;void function _callee2(){var installed,_res1$accounts,_res1$accounts$,_res1$accounts2,_res1$accounts2$,res1,res2;return _regeneratorRuntime.async(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _regeneratorRuntime.awrap(_provider.detectWalletInstalled());case 2:installed=_context2.sent;if(!installed){_context2.next=14;break;}setProvider(_provider);_context2.next=7;return _regeneratorRuntime.awrap(_provider.request({method:'near_accounts'}));case 7:res1=_context2.sent;setAccountId((res1==null?void 0:(_res1$accounts=res1.accounts)==null?void 0:(_res1$accounts$=_res1$accounts[0])==null?void 0:_res1$accounts$.accountId)||'');setPublicKey((res1==null?void 0:(_res1$accounts2=res1.accounts)==null?void 0:(_res1$accounts2$=_res1$accounts2[0])==null?void 0:_res1$accounts2$.publicKey)||'');_context2.next=12;return _regeneratorRuntime.awrap(_provider.request({method:'near_networkInfo'}));case 12:res2=_context2.sent;setNetworkId((res2==null?void 0:res2.networkId)||'');case 14:case\"end\":return _context2.stop();}}},null,null,null,Promise);}();return function(){_provider.off('accountsChanged',onAccountsChanged);_provider.off('networkChanged',onNetworkChanged);};},[config,onAccountsChanged,onNetworkChanged]);return React.createElement(\"div\",null,React.createElement(DAppList,{dapps:dapps}),!provider&&React.createElement(\"a\",{target:\"_blank\",href:'https://www.onekey.so/download/'},\"Install OneKey Extension \\u2192\"),provider&&React.createElement(\"div\",null,React.createElement(\"div\",null,\"accountId: \",React.createElement(\"strong\",null,accountId)),React.createElement(\"div\",null,\"publicKey: \",React.createElement(\"strong\",null,publicKey)),React.createElement(\"div\",null,\"localNetworkId: \",React.createElement(\"strong\",null,provider._networkId),\" \",React.createElement(\"button\",null,\"switch TODO\")),React.createElement(\"div\",null,\"walletNetworkId: \",React.createElement(\"strong\",null,networkId)),React.createElement(\"div\",null,\"providerVersion: \",React.createElement(\"strong\",null,\"v\",provider.version)),React.createElement(\"hr\",null),React.createElement(\"button\",{onClick:function _callee3(){var res;return _regeneratorRuntime.async(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _regeneratorRuntime.awrap(provider==null?void 0:provider.request({method:'near_requestAccounts'}));case 2:res=_context3.sent;console.log('near_requestAccounts',res,res.accounts);case 4:case\"end\":return _context3.stop();}}},null,null,null,Promise);}},\"near_requestAccounts\"),React.createElement(\"button\",{onClick:function _callee4(){var res;return _regeneratorRuntime.async(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return _regeneratorRuntime.awrap(provider==null?void 0:provider.requestSignIn());case 2:res=_context4.sent;console.log('requestSignIn',res,res.accounts);case 4:case\"end\":return _context4.stop();}}},null,null,null,Promise);}},\"requestSignIn\"),React.createElement(\"hr\",null),React.createElement(\"button\",{onClick:function onClick(){return provider==null?void 0:provider.request({method:'near_signOut'});}},\"near_signOut\"),React.createElement(\"button\",{onClick:function onClick(){return provider==null?void 0:provider.signOut();}},\"signOut\"),React.createElement(\"hr\",null),React.createElement(\"button\",{onClick:function _callee5(){var res;return _regeneratorRuntime.async(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return _regeneratorRuntime.awrap(provider==null?void 0:provider.request({method:'near_accounts',params:[]}));case 2:res=_context5.sent;console.log('near_accounts',res,res.accounts);case 4:case\"end\":return _context5.stop();}}},null,null,null,Promise);}},\"near_accounts\"),React.createElement(\"button\",{onClick:function _callee6(){var res;return _regeneratorRuntime.async(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return _regeneratorRuntime.awrap(provider==null?void 0:provider.request({method:'near_networkInfo',params:[]}));case 2:res=_context6.sent;console.log('near_networkInfo',res,res.networkId);case 4:case\"end\":return _context6.stop();}}},null,null,null,Promise);}},\"near_networkInfo\"),React.createElement(\"button\",{onClick:function _callee7(){var res;return _regeneratorRuntime.async(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return _regeneratorRuntime.awrap(provider==null?void 0:provider.request({method:'near_accountNonce',params:[]}));case 2:res=_context7.sent;console.log('near_accountNonce',res);case 4:case\"end\":return _context7.stop();}}},null,null,null,Promise);}},\"near_accountNonce\"),React.createElement(\"button\",{onClick:function _callee8(){var res;return _regeneratorRuntime.async(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return _regeneratorRuntime.awrap(provider==null?void 0:provider.request({method:'near_blockInfo',params:[]}));case 2:res=_context8.sent;console.log('near_blockInfo',res);case 4:case\"end\":return _context8.stop();}}},null,null,null,Promise);}},\"near_blockInfo\"),React.createElement(\"hr\",null),React.createElement(\"div\",null,React.createElement(\"button\",{onClick:function _callee9(){var transactions,res;return _regeneratorRuntime.async(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return _regeneratorRuntime.awrap(createSampleBatchTransactions());case 2:transactions=_context9.sent;_context9.next=5;return _regeneratorRuntime.awrap(provider.request({method:'near_sendTransactions',params:{transactions:transactions}}));case 5:res=_context9.sent;console.log('near_sendTransactions',res,res.transactionHashes);case 7:case\"end\":return _context9.stop();}}},null,null,null,Promise);}},\"near_sendTransactions\"),React.createElement(\"button\",{onClick:function _callee10(){var transactions,res;return _regeneratorRuntime.async(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return _regeneratorRuntime.awrap(createSampleBatchTransactions());case 2:transactions=_context10.sent;_context10.next=5;return _regeneratorRuntime.awrap(provider.requestSignTransactions({transactions:transactions}));case 5:res=_context10.sent;console.log('requestSignTransactions',res,res.transactionHashes);case 7:case\"end\":return _context10.stop();}}},null,null,null,Promise);}},\"requestSignTransactions\"),React.createElement(\"button\",{onClick:function _callee11(){var transactions,res;return _regeneratorRuntime.async(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.next=2;return _regeneratorRuntime.awrap(createSampleBatchTransactions());case 2:transactions=_context11.sent;_context11.next=5;return _regeneratorRuntime.awrap(provider.request({method:'near_signTransactions',params:{transactions:transactions}}));case 5:res=_context11.sent;console.log('near_signTransactions',res,res.signatures);case 7:case\"end\":return _context11.stop();}}},null,null,null,Promise);}},\"near_signTransactions\"),React.createElement(\"button\",null,\"TODO Send USDT Token (mainnet only)\"),React.createElement(\"button\",{onClick:function _callee12(){var num1,num2,amount,action1,action2,acc,res;return _regeneratorRuntime.async(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:num1=random(100,900)/10000;num2=random(100,900)/10000;amount=NearApi.utils.format.parseNearAmount(num1.toString());action1=NearApi.transactions.transfer(toBN(amount));action2=NearApi.transactions.transfer(toBN(NearApi.utils.format.parseNearAmount(num2.toString())));acc=provider.account();_context12.next=8;return _regeneratorRuntime.awrap(acc.signAndSendTransaction({receiverId:'evmzyz.testnet',actions:[action1,action2]}));case 8:res=_context12.sent;console.log('signAndSendTransaction',res,res.status);case 10:case\"end\":return _context12.stop();}}},null,null,null,Promise);}},\"signAndSendTransaction (legacy)\"),React.createElement(\"hr\",null),React.createElement(\"button\",{onClick:function _callee13(){var res;return _regeneratorRuntime.async(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_context13.next=2;return _regeneratorRuntime.awrap(provider.request({method:'near_signMessages',params:{messages:['hello world','onekey near wallet']}}));case 2:res=_context13.sent;console.log('near_signMessages',res,res.signatures);case 4:case\"end\":return _context13.stop();}}},null,null,null,Promise);}},\"near_signMessages\"),React.createElement(\"button\",{onClick:function _callee14(){var res;return _regeneratorRuntime.async(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:_context14.next=2;return _regeneratorRuntime.awrap(provider.requestSignMessages({messages:['hello world','onekey near wallet']}));case 2:res=_context14.sent;console.log('requestSignMessages',res,res.signatures);case 4:case\"end\":return _context14.stop();}}},null,null,null,Promise);}},\"requestSignMessages\"),React.createElement(\"hr\",null),React.createElement(\"button\",{onClick:function _callee15(){var res;return _regeneratorRuntime.async(function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:_context15.next=2;return _regeneratorRuntime.awrap(provider.request({'method':'query','params':{'request_type':'view_access_key_list','account_id':'c3be856133196da252d0f1083614cdc87a85c8aa8abeaf87daff1520355eec53','finality':'optimistic'}}));case 2:res=_context15.sent;console.log('RPC Call: view_access_key_list',res);case 4:case\"end\":return _context15.stop();}}},null,null,null,Promise);}},\"RPC Call: view_access_key_list\"),React.createElement(\"button\",{onClick:function _callee16(){var res;return _regeneratorRuntime.async(function _callee16$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:_context16.next=2;return _regeneratorRuntime.awrap(provider.request({'method':'gas_price','params':[null]}));case 2:res=_context16.sent;console.log('RPC Call: gas_price',res);case 4:case\"end\":return _context16.stop();}}},null,null,null,Promise);}},\"RPC Call: gas_price\"),React.createElement(\"button\",{onClick:function _callee17(){var res;return _regeneratorRuntime.async(function _callee17$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:_context17.next=2;return _regeneratorRuntime.awrap(provider.request({'method':'status','params':[]}));case 2:res=_context17.sent;console.log('RPC Call: status',res);case 4:case\"end\":return _context17.stop();}}},null,null,null,Promise);}},\"RPC Call: status\"),React.createElement(\"button\",{onClick:function _callee18(){var res;return _regeneratorRuntime.async(function _callee18$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:_context18.next=2;return _regeneratorRuntime.awrap(provider.request({'method':'network_info','params':[]}));case 2:res=_context18.sent;console.log('RPC Call: network_info',res);case 4:case\"end\":return _context18.stop();}}},null,null,null,Promise);}},\"RPC Call: network_info\"))));}"],"names":["DAppList","props","dapps","React","className","styles","map","dapp","key","name","href","url","target","toBN","value","BN","NearExample","_useState","useState","_useState2","_slicedToArray","provider","setProvider","_useState3","_useState4","accountId","setAccountId","_useState5","_useState6","publicKey","setPublicKey","_useState7","_useState8","networkId","setNetworkId","createSampleBatchTransactions","useCallback","num1","num2","action1","action2","tx1","tx2","transactions","_regeneratorRuntime","_context","prev","next","abrupt","random","NearApi","createTransaction","receiverId","actions","nonceOffset","sent","stop","Promise","onAccountsChanged","payload","_payload$accounts","_payload$accounts$","_payload$accounts2","_payload$accounts2$","_accountId","accounts","_publicKey","console","log","onNetworkChanged","config","useMemo","nodeUrl","headers","keyStore","useEffect","_provider","OneKeyNearProvider","transactionCreator","undefined","on","window","_res1$accounts","_res1$accounts$","_res1$accounts2","_res1$accounts2$","res1","res2","_context2","detectWalletInstalled","request","method","off","createElement","onClick","res","_context3","_context4","requestSignIn","signOut","_context5","params","_context6","_context7","_context8","_context9","transactionHashes","_context10","requestSignTransactions","_context11","signatures","amount","acc","_context12","toString","account","signAndSendTransaction","status","_context13","messages","_context14","requestSignMessages","_context15","_context16","_context17","_context18","nearAPI"],"sourceRoot":""}