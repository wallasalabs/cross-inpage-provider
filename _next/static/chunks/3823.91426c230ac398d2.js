(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3823],{26729:function(t){"use strict";var e=Object.prototype.hasOwnProperty,n="~";function r(){}function o(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function i(t,e,r,i,s){if("function"!==typeof r)throw new TypeError("The listener must be a function");var c=new o(r,i||t,s),a=n?n+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],c]:t._events[a].push(c):(t._events[a]=c,t._eventsCount++),t}function s(t,e){0===--t._eventsCount?t._events=new r:delete t._events[e]}function c(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),c.prototype.eventNames=function(){var t,r,o=[];if(0===this._eventsCount)return o;for(r in t=this._events)e.call(t,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},c.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,s=new Array(i);o<i;o++)s[o]=r[o].fn;return s},c.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},c.prototype.emit=function(t,e,r,o,i,s){var c=n?n+t:t;if(!this._events[c])return!1;var a,f,u=this._events[c],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,r),!0;case 4:return u.fn.call(u.context,e,r,o),!0;case 5:return u.fn.call(u.context,e,r,o,i),!0;case 6:return u.fn.call(u.context,e,r,o,i,s),!0}for(f=1,a=new Array(h-1);f<h;f++)a[f-1]=arguments[f];u.fn.apply(u.context,a)}else{var l,d=u.length;for(f=0;f<d;f++)switch(u[f].once&&this.removeListener(t,u[f].fn,void 0,!0),h){case 1:u[f].fn.call(u[f].context);break;case 2:u[f].fn.call(u[f].context,e);break;case 3:u[f].fn.call(u[f].context,e,r);break;case 4:u[f].fn.call(u[f].context,e,r,o);break;default:if(!a)for(l=1,a=new Array(h-1);l<h;l++)a[l-1]=arguments[l];u[f].fn.apply(u[f].context,a)}}return!0},c.prototype.on=function(t,e,n){return i(this,t,e,n,!1)},c.prototype.once=function(t,e,n){return i(this,t,e,n,!0)},c.prototype.removeListener=function(t,e,r,o){var i=n?n+t:t;if(!this._events[i])return this;if(!e)return s(this,i),this;var c=this._events[i];if(c.fn)c.fn!==e||o&&!c.once||r&&c.context!==r||s(this,i);else{for(var a=0,f=[],u=c.length;a<u;a++)(c[a].fn!==e||o&&!c[a].once||r&&c[a].context!==r)&&f.push(c[a]);f.length?this._events[i]=1===f.length?f[0]:f:s(this,i)}return this},c.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&s(this,e)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c},31198:function(t,e,n){"use strict";const r=n(64667).v4,o=n(17741),i=function(t,e){if(!(this instanceof i))return new i(t,e);e||(e={}),this.options={reviver:"undefined"!==typeof e.reviver?e.reviver:null,replacer:"undefined"!==typeof e.replacer?e.replacer:null,generator:"undefined"!==typeof e.generator?e.generator:function(){return r()},version:"undefined"!==typeof e.version?e.version:2,notificationIdNull:"boolean"===typeof e.notificationIdNull&&e.notificationIdNull},this.callServer=t};t.exports=i,i.prototype.request=function(t,e,n,r){const i=this;let s=null;const c=Array.isArray(t)&&"function"===typeof e;if(1===this.options.version&&c)throw new TypeError("JSON-RPC 1.0 does not support batching");if(c||!c&&t&&"object"===typeof t&&"function"===typeof e)r=e,s=t;else{"function"===typeof n&&(r=n,n=void 0);const i="function"===typeof r;try{s=o(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(f){if(i)return r(f);throw f}if(!i)return s}let a;try{a=JSON.stringify(s,this.options.replacer)}catch(f){return r(f)}return this.callServer(a,(function(t,e){i._parseResponse(t,e,r)})),s},i.prototype._parseResponse=function(t,e,n){if(t)return void n(t);if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(t){return n(t)}if(3===n.length){if(Array.isArray(r)){const t=function(t){return"undefined"!==typeof t.error},e=function(e){return!t(e)};return n(null,r.filter(t),r.filter(e))}return n(null,r.error,r.result)}n(null,r)}},17741:function(t,e,n){"use strict";const r=n(64667).v4;t.exports=function(t,e,n,o){if("string"!==typeof t)throw new TypeError(t+" must be a string");const i="number"===typeof(o=o||{}).version?o.version:2;if(1!==i&&2!==i)throw new TypeError(i+" must be 1 or 2");const s={method:t};if(2===i&&(s.jsonrpc="2.0"),e){if("object"!==typeof e&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if("undefined"===typeof n){const t="function"===typeof o.generator?o.generator:function(){return r()};s.id=t(s,o)}else 2===i&&null===n?o.notificationIdNull&&(s.id=null):s.id=n;return s}},64667:function(t,e,n){"use strict";var r;n.d(e,{v4:function(){return h}});var o=new Uint8Array(16);function i(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)}var s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var c=function(t){return"string"===typeof t&&s.test(t)},a=[],f=0;f<256;++f)a.push((f+256).toString(16).substr(1));var u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(a[t[e+0]]+a[t[e+1]]+a[t[e+2]]+a[t[e+3]]+"-"+a[t[e+4]]+a[t[e+5]]+"-"+a[t[e+6]]+a[t[e+7]]+"-"+a[t[e+8]]+a[t[e+9]]+"-"+a[t[e+10]]+a[t[e+11]]+a[t[e+12]]+a[t[e+13]]+a[t[e+14]]+a[t[e+15]]).toLowerCase();if(!c(n))throw TypeError("Stringified UUID is invalid");return n};var h=function(t,e,n){var r=(t=t||{}).random||(t.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return u(r)}},83937:function(t,e,n){"use strict";var r=n(64836);e.K=void 0;var o=r(n(89728)),i=r(n(56690)),s=r(n(61655)),c=r(n(94993)),a=r(n(73808)),f=r(n(89062));function u(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,a.default)(t);if(e){var o=(0,a.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var h=function(t){(0,s.default)(n,t);var e=u(n);function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ws://localhost:8080",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.autoconnect,s=void 0===o||o,c=r.reconnect,a=void 0===c||c,u=r.reconnect_interval,h=void 0===u?1e3:u,l=r.max_reconnects,d=void 0===l?5:l,p=arguments.length>2?arguments[2]:void 0;return(0,i.default)(this,n),e.call(this,f.default,t,{autoconnect:s,reconnect:a,reconnect_interval:h,max_reconnects:d},p)}return(0,o.default)(n)}(r(n(66855)).default);e.K=h},66855:function(t,e,n){"use strict";var r=n(48764).Buffer,o=n(64836);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n(64687)),s=o(n(17156)),c=o(n(18698)),a=o(n(56690)),f=o(n(89728)),u=o(n(61655)),h=o(n(94993)),l=o(n(73808)),d=n(26729);function p(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,l.default)(t);if(e){var o=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,h.default)(this,n)}}var y=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n},b=function(t){(0,u.default)(n,t);var e=p(n);function n(t){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ws://localhost:8080",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;(0,a.default)(this,n);var c=i.autoconnect,f=void 0===c||c,u=i.reconnect,h=void 0===u||u,l=i.reconnect_interval,d=void 0===l?1e3:l,p=i.max_reconnects,b=void 0===p?5:p,w=y(i,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return(r=e.call(this)).webSocketFactory=t,r.queue={},r.rpc_id=0,r.address=o,r.autoconnect=f,r.ready=!1,r.reconnect=h,r.reconnect_interval=d,r.max_reconnects=b,r.rest_options=w,r.current_reconnects=0,r.generate_request_id=s||function(){return++r.rpc_id},r.autoconnect&&r._connect(r.address,Object.assign({autoconnect:r.autoconnect,reconnect:r.reconnect,reconnect_interval:r.reconnect_interval,max_reconnects:r.max_reconnects},r.rest_options)),r}return(0,f.default)(n,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(t,e,n,r){var o=this;return r||"object"!==(0,c.default)(n)||(r=n,n=null),new Promise((function(i,s){if(!o.ready)return s(new Error("socket not ready"));var c=o.generate_request_id(t,e),a={jsonrpc:"2.0",method:t,params:e||null,id:c};o.socket.send(JSON.stringify(a),r,(function(t){if(t)return s(t);o.queue[c]={promise:[i,s]},n&&(o.queue[c].timeout=setTimeout((function(){delete o.queue[c],s(new Error("reply timeout"))}),n))}))}))}},{key:"login",value:function(){var t=(0,s.default)(i.default.mark((function t(e){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.call("rpc.login",e);case 2:if(n=t.sent){t.next=5;break}throw new Error("authentication failed");case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"listMethods",value:function(){var t=(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.call("__listMethods");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"notify",value:function(t,e){var n=this;return new Promise((function(r,o){if(!n.ready)return o(new Error("socket not ready"));var i={jsonrpc:"2.0",method:t,params:e||null};n.socket.send(JSON.stringify(i),(function(t){if(t)return o(t);r()}))}))}},{key:"subscribe",value:function(){var t=(0,s.default)(i.default.mark((function t(e){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"string"===typeof e&&(e=[e]),t.next=3,this.call("rpc.on",e);case 3:if(n=t.sent,"string"!==typeof e||"ok"===n[e]){t.next=6;break}throw new Error("Failed subscribing to an event '"+e+"' with: "+n[e]);case 6:return t.abrupt("return",n);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"unsubscribe",value:function(){var t=(0,s.default)(i.default.mark((function t(e){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"string"===typeof e&&(e=[e]),t.next=3,this.call("rpc.off",e);case 3:if(n=t.sent,"string"!==typeof e||"ok"===n[e]){t.next=6;break}throw new Error("Failed unsubscribing from an event with: "+n);case 6:return t.abrupt("return",n);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"close",value:function(t,e){this.socket.close(t||1e3,e)}},{key:"_connect",value:function(t,e){var n=this;this.socket=this.webSocketFactory(t,e),this.socket.addEventListener("open",(function(){n.ready=!0,n.emit("open"),n.current_reconnects=0})),this.socket.addEventListener("message",(function(t){var e=t.data;e instanceof ArrayBuffer&&(e=r.from(e).toString());try{e=JSON.parse(e)}catch(s){return}if(e.notification&&n.listeners(e.notification).length){if(!Object.keys(e.params).length)return n.emit(e.notification);var o=[e.notification];if(e.params.constructor===Object)o.push(e.params);else for(var i=0;i<e.params.length;i++)o.push(e.params[i]);return Promise.resolve().then((function(){n.emit.apply(n,o)}))}if(!n.queue[e.id])return e.method&&e.params?Promise.resolve().then((function(){n.emit(e.method,e.params)})):void 0;"error"in e==="result"in e&&n.queue[e.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),n.queue[e.id].timeout&&clearTimeout(n.queue[e.id].timeout),e.error?n.queue[e.id].promise[1](e.error):n.queue[e.id].promise[0](e.result),delete n.queue[e.id]})),this.socket.addEventListener("error",(function(t){return n.emit("error",t)})),this.socket.addEventListener("close",(function(r){var o=r.code,i=r.reason;n.ready&&setTimeout((function(){return n.emit("close",o,i)}),0),n.ready=!1,n.socket=void 0,1e3!==o&&(n.current_reconnects++,n.reconnect&&(n.max_reconnects>n.current_reconnects||0===n.max_reconnects)&&setTimeout((function(){return n._connect(t,e)}),n.reconnect_interval))}))}}]),n}(d.EventEmitter);e.default=b},89062:function(t,e,n){"use strict";var r=n(64836);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return new u(t,e)};var o=r(n(56690)),i=r(n(89728)),s=r(n(61655)),c=r(n(94993)),a=r(n(73808));function f(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,a.default)(t);if(e){var o=(0,a.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var u=function(t){(0,s.default)(n,t);var e=f(n);function n(t,r,i){var s;return(0,o.default)(this,n),(s=e.call(this)).socket=new window.WebSocket(t,i),s.socket.onopen=function(){return s.emit("open")},s.socket.onmessage=function(t){return s.emit("message",t.data)},s.socket.onerror=function(t){return s.emit("error",t)},s.socket.onclose=function(t){s.emit("close",t.code,t.reason)},s}return(0,i.default)(n,[{key:"send",value:function(t,e,n){var r=n||e;try{this.socket.send(t),r()}catch(o){r(o)}}},{key:"close",value:function(t,e){this.socket.close(t,e)}},{key:"addEventListener",value:function(t,e,n){this.socket.addEventListener(t,e,n)}}]),n}(n(26729).EventEmitter)},66115:function(t){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},17156:function(t){function e(t,e,n,r,o,i,s){try{var c=t[i](s),a=c.value}catch(f){return void n(f)}c.done?e(a):Promise.resolve(a).then(r,o)}t.exports=function(t){return function(){var n=this,r=arguments;return new Promise((function(o,i){var s=t.apply(n,r);function c(t){e(s,o,i,c,a,"next",t)}function a(t){e(s,o,i,c,a,"throw",t)}c(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},56690:function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},89728:function(t){function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},73808:function(t){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},61655:function(t,e,n){var r=n(6015);t.exports=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},64836:function(t){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports.default=t.exports},94993:function(t,e,n){var r=n(18698).default,o=n(66115);t.exports=function(t,e){if(e&&("object"===r(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return o(t)},t.exports.__esModule=!0,t.exports.default=t.exports},6015:function(t){function e(n,r){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n,r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},93527:function(t,e,n){"use strict";function r(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function o(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}const i={number:r,bool:function(t){if("boolean"!==typeof t)throw new Error(`Expected boolean, not ${t}`)},bytes:o,hash:function(t){if("function"!==typeof t||"function"!==typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(t.outputLen),r(t.blockLen)},exists:function(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")},output:function(t,e){o(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}};e.ZP=i},3313:function(t,e,n){"use strict";n.d(e,{N:function(){return i}});var r=n(93527),o=n(93811);class i extends o.kb{constructor(t,e,n,r){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,o.GL)(this.buffer)}update(t){r.ZP.exists(this);const{view:e,buffer:n,blockLen:i}=this,s=(t=(0,o.O0)(t)).length;for(let r=0;r<s;){const c=Math.min(i-this.pos,s-r);if(c!==i)n.set(t.subarray(r,r+c),this.pos),this.pos+=c,r+=c,this.pos===i&&(this.process(e,0),this.pos=0);else{const e=(0,o.GL)(t);for(;i<=s-r;r+=i)this.process(e,r)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){r.ZP.exists(this),r.ZP.output(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:i,isLE:s}=this;let{pos:c}=this;e[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>i-c&&(this.process(n,0),c=0);for(let r=c;r<i;r++)e[r]=0;!function(t,e,n,r){if("function"===typeof t.setBigUint64)return t.setBigUint64(e,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),c=Number(n&i),a=r?4:0,f=r?0:4;t.setUint32(e+a,s,r),t.setUint32(e+f,c,r)}(n,i-8,BigInt(8*this.length),s),this.process(n,0);const a=(0,o.GL)(t);this.get().forEach(((t,e)=>a.setUint32(4*e,t,s)))}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:r,finished:o,destroyed:i,pos:s}=this;return t.length=r,t.pos=s,t.finished=o,t.destroyed=i,r%e&&t.buffer.set(n),t}}},91881:function(t,e,n){"use strict";const r=BigInt(2**32-1),o=BigInt(32);function i(t,e=!1){return e?{h:Number(t&r),l:Number(t>>o&r)}:{h:0|Number(t>>o&r),l:0|Number(t&r)}}const s={fromBig:i,split:function(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let o=0;o<t.length;o++){const{h:s,l:c}=i(t[o],e);[n[o],r[o]]=[s,c]}return[n,r]},toBig:(t,e)=>BigInt(t>>>0)<<o|BigInt(e>>>0),shrSH:(t,e,n)=>t>>>n,shrSL:(t,e,n)=>t<<32-n|e>>>n,rotrSH:(t,e,n)=>t>>>n|e<<32-n,rotrSL:(t,e,n)=>t<<32-n|e>>>n,rotrBH:(t,e,n)=>t<<64-n|e>>>n-32,rotrBL:(t,e,n)=>t>>>n-32|e<<64-n,rotr32H:(t,e)=>e,rotr32L:(t,e)=>t,rotlSH:(t,e,n)=>t<<n|e>>>32-n,rotlSL:(t,e,n)=>e<<n|t>>>32-n,rotlBH:(t,e,n)=>e<<n-32|t>>>64-n,rotlBL:(t,e,n)=>t<<n-32|e>>>64-n,add:function(t,e,n,r){const o=(e>>>0)+(r>>>0);return{h:t+n+(o/2**32|0)|0,l:0|o}},add3L:(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),add3H:(t,e,n,r)=>e+n+r+(t/2**32|0)|0,add4L:(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),add4H:(t,e,n,r,o)=>e+n+r+o+(t/2**32|0)|0,add5H:(t,e,n,r,o,i)=>e+n+r+o+i+(t/2**32|0)|0,add5L:(t,e,n,r,o)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(o>>>0)};e.ZP=s},9905:function(t,e,n){"use strict";n.d(e,{b:function(){return s}});var r=n(93527),o=n(93811);class i extends o.kb{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,r.ZP.hash(t);const n=(0,o.O0)(e);if(this.iHash=t.create(),!(this.iHash instanceof o.kb))throw new TypeError("Expected instance of class which extends utils.Hash");const i=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const s=new Uint8Array(i);s.set(n.length>this.iHash.blockLen?t.create().update(n).digest():n);for(let r=0;r<s.length;r++)s[r]^=54;this.iHash.update(s),this.oHash=t.create();for(let r=0;r<s.length;r++)s[r]^=106;this.oHash.update(s),s.fill(0)}update(t){return r.ZP.exists(this),this.iHash.update(t),this}digestInto(t){r.ZP.exists(this),r.ZP.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:n,finished:r,destroyed:o,blockLen:i,outputLen:s}=this;return(t=t).finished=r,t.destroyed=o,t.blockLen=i,t.outputLen=s,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const s=(t,e,n)=>new i(t,e).update(n).digest();s.create=(t,e)=>new i(t,e)},17748:function(t,e,n){"use strict";n.d(e,{J:function(){return u}});var r=n(3313),o=n(93811);const i=(t,e,n)=>t&e^t&n^e&n,s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),c=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),a=new Uint32Array(64);class f extends r.N{constructor(){super(64,32,8,!1),this.A=0|c[0],this.B=0|c[1],this.C=0|c[2],this.D=0|c[3],this.E=0|c[4],this.F=0|c[5],this.G=0|c[6],this.H=0|c[7]}get(){const{A:t,B:e,C:n,D:r,E:o,F:i,G:s,H:c}=this;return[t,e,n,r,o,i,s,c]}set(t,e,n,r,o,i,s,c){this.A=0|t,this.B=0|e,this.C=0|n,this.D=0|r,this.E=0|o,this.F=0|i,this.G=0|s,this.H=0|c}process(t,e){for(let o=0;o<16;o++,e+=4)a[o]=t.getUint32(e,!1);for(let i=16;i<64;i++){const t=a[i-15],e=a[i-2],n=(0,o.np)(t,7)^(0,o.np)(t,18)^t>>>3,r=(0,o.np)(e,17)^(0,o.np)(e,19)^e>>>10;a[i]=r+a[i-7]+n+a[i-16]|0}let{A:n,B:r,C:c,D:f,E:u,F:h,G:l,H:d}=this;for(let y=0;y<64;y++){const t=d+((0,o.np)(u,6)^(0,o.np)(u,11)^(0,o.np)(u,25))+((p=u)&h^~p&l)+s[y]+a[y]|0,e=((0,o.np)(n,2)^(0,o.np)(n,13)^(0,o.np)(n,22))+i(n,r,c)|0;d=l,l=h,h=u,u=f+t|0,f=c,c=r,r=n,n=t+e|0}var p;n=n+this.A|0,r=r+this.B|0,c=c+this.C|0,f=f+this.D|0,u=u+this.E|0,h=h+this.F|0,l=l+this.G|0,d=d+this.H|0,this.set(n,r,c,f,u,h,l,d)}roundClean(){a.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const u=(0,o.hE)((()=>new f))},74736:function(t,e,n){"use strict";n.d(e,{o:function(){return d}});var r=n(3313),o=n(91881),i=n(93811);const[s,c]=o.ZP.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((t=>BigInt(t)))),a=new Uint32Array(80),f=new Uint32Array(80);class u extends r.N{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:n,Bl:r,Ch:o,Cl:i,Dh:s,Dl:c,Eh:a,El:f,Fh:u,Fl:h,Gh:l,Gl:d,Hh:p,Hl:y}=this;return[t,e,n,r,o,i,s,c,a,f,u,h,l,d,p,y]}set(t,e,n,r,o,i,s,c,a,f,u,h,l,d,p,y){this.Ah=0|t,this.Al=0|e,this.Bh=0|n,this.Bl=0|r,this.Ch=0|o,this.Cl=0|i,this.Dh=0|s,this.Dl=0|c,this.Eh=0|a,this.El=0|f,this.Fh=0|u,this.Fl=0|h,this.Gh=0|l,this.Gl=0|d,this.Hh=0|p,this.Hl=0|y}process(t,e){for(let o=0;o<16;o++,e+=4)a[o]=t.getUint32(e),f[o]=t.getUint32(e+=4);for(let s=16;s<80;s++){const t=0|a[s-15],e=0|f[s-15],n=o.ZP.rotrSH(t,e,1)^o.ZP.rotrSH(t,e,8)^o.ZP.shrSH(t,e,7),r=o.ZP.rotrSL(t,e,1)^o.ZP.rotrSL(t,e,8)^o.ZP.shrSL(t,e,7),i=0|a[s-2],c=0|f[s-2],u=o.ZP.rotrSH(i,c,19)^o.ZP.rotrBH(i,c,61)^o.ZP.shrSH(i,c,6),h=o.ZP.rotrSL(i,c,19)^o.ZP.rotrBL(i,c,61)^o.ZP.shrSL(i,c,6),l=o.ZP.add4L(r,h,f[s-7],f[s-16]),d=o.ZP.add4H(l,n,u,a[s-7],a[s-16]);a[s]=0|d,f[s]=0|l}let{Ah:n,Al:r,Bh:i,Bl:u,Ch:h,Cl:l,Dh:d,Dl:p,Eh:y,El:b,Fh:w,Fl:v,Gh:g,Gl:x,Hh:m,Hl:E}=this;for(let _=0;_<80;_++){const t=o.ZP.rotrSH(y,b,14)^o.ZP.rotrSH(y,b,18)^o.ZP.rotrBH(y,b,41),e=o.ZP.rotrSL(y,b,14)^o.ZP.rotrSL(y,b,18)^o.ZP.rotrBL(y,b,41),A=y&w^~y&g,B=b&v^~b&x,S=o.ZP.add5L(E,e,B,c[_],f[_]),k=o.ZP.add5H(S,m,t,A,s[_],a[_]),P=0|S,H=o.ZP.rotrSH(n,r,28)^o.ZP.rotrBH(n,r,34)^o.ZP.rotrBH(n,r,39),I=o.ZP.rotrSL(n,r,28)^o.ZP.rotrBL(n,r,34)^o.ZP.rotrBL(n,r,39),L=n&i^n&h^i&h,O=r&u^r&l^u&l;m=0|g,E=0|x,g=0|w,x=0|v,w=0|y,v=0|b,({h:y,l:b}=o.ZP.add(0|d,0|p,0|k,0|P)),d=0|h,p=0|l,h=0|i,l=0|u,i=0|n,u=0|r;const U=o.ZP.add3L(P,I,O);n=o.ZP.add3H(U,k,H,L),r=0|U}({h:n,l:r}=o.ZP.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:u}=o.ZP.add(0|this.Bh,0|this.Bl,0|i,0|u)),({h:h,l:l}=o.ZP.add(0|this.Ch,0|this.Cl,0|h,0|l)),({h:d,l:p}=o.ZP.add(0|this.Dh,0|this.Dl,0|d,0|p)),({h:y,l:b}=o.ZP.add(0|this.Eh,0|this.El,0|y,0|b)),({h:w,l:v}=o.ZP.add(0|this.Fh,0|this.Fl,0|w,0|v)),({h:g,l:x}=o.ZP.add(0|this.Gh,0|this.Gl,0|g,0|x)),({h:m,l:E}=o.ZP.add(0|this.Hh,0|this.Hl,0|m,0|E)),this.set(n,r,i,u,h,l,d,p,y,b,w,v,g,x,m,E)}roundClean(){a.fill(0),f.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class h extends u{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class l extends u{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const d=(0,i.hE)((()=>new u));(0,i.hE)((()=>new h)),(0,i.hE)((()=>new l))},93811:function(t,e,n){"use strict";n.d(e,{kb:function(){return c},GL:function(){return o},np:function(){return i},O0:function(){return s},Jq:function(){return r},hE:function(){return a},K$:function(){return f}});"object"===typeof self&&"crypto"in self&&self.crypto;const r=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),o=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),i=(t,e)=>t<<32-e|t>>>e;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function s(t){if("string"===typeof t&&(t=function(t){if("string"!==typeof t)throw new TypeError("utf8ToBytes expected string, got "+typeof t);return(new TextEncoder).encode(t)}(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}class c{clone(){return this._cloneInto()}}function a(t){const e=e=>t().update(s(e)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function f(t){const e=(e,n)=>t(n).update(s(e)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=e=>t(e),e}},27760:function(t,e,n){"use strict";var r;n.d(e,{$3:function(){return V},kS:function(){return Q},P6:function(){return nt}});var o=n(95856);const i=BigInt(0),s=BigInt(1),c=BigInt(2),a=BigInt(3),f=BigInt(8),u=Object.freeze({a:i,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:s,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});function h(t){const{a:e,b:n}=u,r=O(t*t),o=O(r*t);return O(o+e*t+n)}const l=u.a===i;class d extends Error{constructor(t){super(t)}}class p{constructor(t,e,n){this.x=t,this.y=e,this.z=n}static fromAffine(t){if(!(t instanceof b))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new p(t.x,t.y,s)}static toAffineBatch(t){const e=function(t,e=u.P){const n=new Array(t.length),r=Z(t.reduce(((t,r,o)=>r===i?t:(n[o]=t,O(t*r,e))),s),e);return t.reduceRight(((t,r,o)=>r===i?t:(n[o]=O(t*n[o],e),O(t*r,e))),r),n}(t.map((t=>t.z)));return t.map(((t,n)=>t.toAffine(e[n])))}static normalizeZ(t){return p.toAffineBatch(t).map(p.fromAffine)}equals(t){if(!(t instanceof p))throw new TypeError("JacobianPoint expected");const{x:e,y:n,z:r}=this,{x:o,y:i,z:s}=t,c=O(r*r),a=O(s*s),f=O(e*a),u=O(o*c),h=O(O(n*s)*a),l=O(O(i*r)*c);return f===u&&h===l}negate(){return new p(this.x,O(-this.y),this.z)}double(){const{x:t,y:e,z:n}=this,r=O(t*t),o=O(e*e),i=O(o*o),s=t+o,u=O(c*(O(s*s)-r-i)),h=O(a*r),l=O(h*h),d=O(l-c*u),y=O(h*(u-d)-f*i),b=O(c*e*n);return new p(d,y,b)}add(t){if(!(t instanceof p))throw new TypeError("JacobianPoint expected");const{x:e,y:n,z:r}=this,{x:o,y:s,z:a}=t;if(o===i||s===i)return this;if(e===i||n===i)return t;const f=O(r*r),u=O(a*a),h=O(e*u),l=O(o*f),d=O(O(n*a)*u),y=O(O(s*r)*f),b=O(l-h),w=O(y-d);if(b===i)return w===i?this.double():p.ZERO;const v=O(b*b),g=O(b*v),x=O(h*v),m=O(w*w-g-c*x),E=O(w*(x-m)-d*g),_=O(r*a*b);return new p(m,E,_)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){const e=p.ZERO;if("bigint"===typeof t&&t===i)return e;let n=L(t);if(n===s)return this;if(!l){let t=e,r=this;for(;n>i;)n&s&&(t=t.add(r)),r=r.double(),n>>=s;return t}let{k1neg:r,k1:o,k2neg:c,k2:a}=N(n),f=e,h=e,d=this;for(;o>i||a>i;)o&s&&(f=f.add(d)),a&s&&(h=h.add(d)),d=d.double(),o>>=s,a>>=s;return r&&(f=f.negate()),c&&(h=h.negate()),h=new p(O(h.x*u.beta),h.y,h.z),f.add(h)}precomputeWindow(t){const e=l?128/t+1:256/t+1,n=[];let r=this,o=r;for(let i=0;i<e;i++){o=r,n.push(o);for(let e=1;e<2**(t-1);e++)o=o.add(r),n.push(o);r=o.double()}return n}wNAF(t,e){!e&&this.equals(p.BASE)&&(e=b.BASE);const n=e&&e._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let r=e&&y.get(e);r||(r=this.precomputeWindow(n),e&&1!==n&&(r=p.normalizeZ(r),y.set(e,r)));let o=p.ZERO,i=p.ZERO;const c=1+(l?128/n:256/n),a=2**(n-1),f=BigInt(2**n-1),u=2**n,h=BigInt(n);for(let l=0;l<c;l++){const e=l*a;let n=Number(t&f);if(t>>=h,n>a&&(n-=u,t+=s),0===n){let t=r[e];l%2&&(t=t.negate()),i=i.add(t)}else{let t=r[e+Math.abs(n)-1];n<0&&(t=t.negate()),o=o.add(t)}}return{p:o,f:i}}multiply(t,e){let n,r,o=L(t);if(l){const{k1neg:t,k1:i,k2neg:s,k2:c}=N(o);let{p:a,f:f}=this.wNAF(i,e),{p:h,f:l}=this.wNAF(c,e);t&&(a=a.negate()),s&&(h=h.negate()),h=new p(O(h.x*u.beta),h.y,h.z),n=a.add(h),r=f.add(l)}else{const{p:t,f:i}=this.wNAF(o,e);n=t,r=i}return p.normalizeZ([n,r])[0]}toAffine(t=Z(this.z)){const{x:e,y:n,z:r}=this,o=t,i=O(o*o),c=O(i*o),a=O(e*i),f=O(n*c);if(O(r*o)!==s)throw new Error("invZ was invalid");return new b(a,f)}}p.BASE=new p(u.Gx,u.Gy,s),p.ZERO=new p(i,s,i);const y=new WeakMap;class b{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,y.delete(this)}hasEvenY(){return this.y%c===i}static fromCompressedHex(t){const e=32===t.length,n=H(e?t:t.subarray(1));if(!$(n))throw new Error("Point is not on curve");let r=function(t){const{P:e}=u,n=BigInt(6),r=BigInt(11),o=BigInt(22),i=BigInt(23),s=BigInt(44),f=BigInt(88),h=t*t*t%e,l=h*h*t%e,d=U(l,a)*l%e,p=U(d,a)*l%e,y=U(p,c)*h%e,b=U(y,r)*y%e,w=U(b,o)*b%e,v=U(w,s)*w%e,g=U(v,f)*v%e,x=U(g,s)*w%e,m=U(x,a)*l%e,E=U(m,i)*b%e,_=U(E,n)*h%e;return U(_,c)}(h(n));const o=(r&s)===s;if(e)o&&(r=O(-r));else{1===(1&t[0])!==o&&(r=O(-r))}const i=new b(n,r);return i.assertValidity(),i}static fromUncompressedHex(t){const e=H(t.subarray(1,33)),n=H(t.subarray(33,65)),r=new b(e,n);return r.assertValidity(),r}static fromHex(t){const e=I(t),n=e.length,r=e[0];if(32===n||33===n&&(2===r||3===r))return this.fromCompressedHex(e);if(65===n&&4===r)return this.fromUncompressedHex(e);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${n}`)}static fromPrivateKey(t){return b.BASE.multiply(M(t))}static fromSignature(t,e,n){const r=T(t=I(t)),{r:o,s:i}=q(e);if(0!==n&&1!==n)throw new Error("Cannot recover signature: invalid recovery bit");const s=1&n?"03":"02",c=b.fromHex(s+A(o)),{n:a}=u,f=Z(o,a),h=O(-r*f,a),l=O(i*f,a),d=b.BASE.multiplyAndAddUnsafe(c,h,l);if(!d)throw new Error("Cannot recover signature: point at infinify");return d.assertValidity(),d}toRawBytes(t=!1){return P(this.toHex(t))}toHex(t=!1){const e=A(this.x);if(t){return`${this.hasEvenY()?"02":"03"}${e}`}return`04${e}${A(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:e,y:n}=this;if(!$(e)||!$(n))throw new Error(t);const r=O(n*n);if(O(r-h(e))!==i)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new b(this.x,O(-this.y))}double(){return p.fromAffine(this).double().toAffine()}add(t){return p.fromAffine(this).add(p.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return p.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,e,n){const r=p.fromAffine(this),o=e===i||e===s||this!==b.BASE?r.multiplyUnsafe(e):r.multiply(e),c=p.fromAffine(t).multiplyUnsafe(n),a=o.add(c);return a.equals(p.ZERO)?void 0:a.toAffine()}}function w(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function v(t){if(t.length<2||2!==t[0])throw new Error(`Invalid signature integer tag: ${E(t)}`);const e=t[1],n=t.subarray(2,e+2);if(!e||n.length!==e)throw new Error("Invalid signature integer: wrong length");if(0===n[0]&&n[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:H(n),left:t.subarray(e+2)}}b.BASE=new b(u.Gx,u.Gy),b.ZERO=new b(i,i);class g{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromCompact(t){const e=t instanceof Uint8Array,n="Signature.fromCompact";if("string"!==typeof t&&!e)throw new TypeError(`${n}: Expected string or Uint8Array`);const r=e?E(t):t;if(128!==r.length)throw new Error(`${n}: Expected 64-byte hex`);return new g(k(r.slice(0,64)),k(r.slice(64,128)))}static fromDER(t){const e=t instanceof Uint8Array;if("string"!==typeof t&&!e)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:n,s:r}=function(t){if(t.length<2||48!=t[0])throw new Error(`Invalid signature tag: ${E(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");const{data:e,left:n}=v(t.subarray(2)),{data:r,left:o}=v(n);if(o.length)throw new Error(`Invalid signature: left bytes after parsing: ${E(o)}`);return{r:e,s:r}}(e?t:P(t));return new g(n,r)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:e}=this;if(!G(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!G(e))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const t=u.n>>s;return this.s>t}normalizeS(){return this.hasHighS()?new g(this.r,u.n-this.s):this}toDERRawBytes(t=!1){return P(this.toDERHex(t))}toDERHex(t=!1){const e=w(S(this.s));if(t)return e;const n=w(S(this.r)),r=S(n.length/2),o=S(e.length/2);return`30${S(n.length/2+e.length/2+4)}02${r}${n}02${o}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return P(this.toCompactHex())}toCompactHex(){return A(this.r)+A(this.s)}}function x(...t){if(!t.every((t=>t instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(e);for(let r=0,o=0;r<t.length;r++){const e=t[r];n.set(e,o),o+=e.length}return n}const m=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function E(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let n=0;n<t.length;n++)e+=m[t[n]];return e}const _=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function A(t){if("bigint"!==typeof t)throw new Error("Expected bigint");if(!(i<=t&&t<_))throw new Error("Expected number < 2^256");return t.toString(16).padStart(64,"0")}function B(t){const e=P(A(t));if(32!==e.length)throw new Error("Error: expected 32 bytes");return e}function S(t){const e=t.toString(16);return 1&e.length?`0${e}`:e}function k(t){if("string"!==typeof t)throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function P(t){if("string"!==typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=2*n,o=t.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[n]=i}return e}function H(t){return k(E(t))}function I(t){return t instanceof Uint8Array?Uint8Array.from(t):P(t)}function L(t){if("number"===typeof t&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if("bigint"===typeof t&&G(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function O(t,e=u.P){const n=t%e;return n>=i?n:e+n}function U(t,e){const{P:n}=u;let r=t;for(;e-- >i;)r*=r,r%=n;return r}function Z(t,e=u.P){if(t===i||e<=i)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=O(t,e),r=e,o=i,c=s,a=s,f=i;for(;n!==i;){const t=r/n,e=r%n,i=o-a*t,s=c-f*t;r=n,n=e,o=a,c=f,a=i,f=s}if(r!==s)throw new Error("invert: does not exist");return O(o,e)}const R=(t,e)=>(t+e/c)/e,C={a1:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),b1:-s*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a2:BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),b2:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),POW_2_128:BigInt("0x100000000000000000000000000000000")};function N(t){const{n:e}=u,{a1:n,b1:r,a2:o,b2:i,POW_2_128:s}=C,c=R(i*t,e),a=R(-r*t,e);let f=O(t-c*n-a*o,e),h=O(-c*r-a*i,e);const l=f>s,d=h>s;if(l&&(f=e-f),d&&(h=e-h),f>s||h>s)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:l,k1:f,k2neg:d,k2:h}}function T(t){const{n:e}=u,n=8*t.length-256;let r=H(t);return n>0&&(r>>=BigInt(n)),r>=e&&(r-=e),r}let j,D;class F{constructor(){this.v=new Uint8Array(32).fill(1),this.k=new Uint8Array(32).fill(0),this.counter=0}hmac(...t){return nt.hmacSha256(this.k,...t)}hmacSync(...t){return D(this.k,...t)}checkSync(){if("function"!==typeof D)throw new d("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),0!==t.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),0!==t.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){return this.incr(),this.v=await this.hmac(this.v),this.v}generateSync(){return this.checkSync(),this.incr(),this.v=this.hmacSync(this.v),this.v}}function G(t){return i<t&&t<u.n}function $(t){return i<t&&t<u.P}function z(t,e,n){const r=H(t);if(!G(r))return;const{n:o}=u,c=b.BASE.multiply(r),a=O(c.x,o);if(a===i)return;const f=O(Z(r,o)*O(e+n*a,o),o);if(f===i)return;const h=new g(a,f);return{sig:h,recovery:(c.x===h.r?0:2)|Number(c.y&s)}}function M(t){let e;if("bigint"===typeof t)e=t;else if("number"===typeof t&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if("string"===typeof t){if(64!==t.length)throw new Error("Expected 32 bytes of private key");e=k(t)}else{if(!(t instanceof Uint8Array))throw new TypeError("Expected valid private key");if(32!==t.length)throw new Error("Expected 32 bytes of private key");e=H(t)}if(!G(e))throw new Error("Expected private key: 0 < key < n");return e}function q(t){if(t instanceof g)return t.assertValidity(),t;try{return g.fromDER(t)}catch(e){return g.fromCompact(t)}}function V(t,e=!1){return b.fromPrivateKey(t).toRawBytes(e)}function W(t){return H(t.length>32?t.slice(0,32):t)}function J(t){const e=W(t),n=O(e,u.n);return K(n<i?e:n)}function K(t){return B(t)}function X(t,e,n){if(null==t)throw new Error(`sign: expected valid message hash, not "${t}"`);const r=I(t),o=M(e),i=[K(o),J(r)];if(null!=n){!0===n&&(n=nt.randomBytes(32));const t=I(n);if(32!==t.length)throw new Error("sign: Expected 32 bytes of extra data");i.push(t)}return{seed:x(...i),m:W(r),d:o}}function Y(t,e){let{sig:n,recovery:r}=t;const{canonical:o,der:i,recovered:s}=Object.assign({canonical:!0,der:!0},e);o&&n.hasHighS()&&(n=n.normalizeS(),r^=1);const c=i?n.toDERRawBytes():n.toCompactRawBytes();return s?[c,r]:c}function Q(t,e,n={}){const{seed:r,m:o,d:i}=X(t,e,n.extraEntropy);let s;const c=new F;for(c.reseedSync(r);!(s=z(c.generateSync(),o,i));)c.reseedSync();return Y(s,n)}b.BASE._setWindowSize(8);const tt={node:r||(r=n.t(o,2)),web:"object"===typeof self&&"crypto"in self?self.crypto:void 0},et={},nt={bytesToHex:E,hexToBytes:P,concatBytes:x,mod:O,invert:Z,isValidPrivateKey(t){try{return M(t),!0}catch(e){return!1}},_bigintTo32Bytes:B,_normalizePrivateKey:M,hashToPrivateKey:t=>{if((t=I(t)).length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return B(O(H(t),u.n-s)+s)},randomBytes:(t=32)=>{if(tt.web)return tt.web.getRandomValues(new Uint8Array(t));if(tt.node){const{randomBytes:e}=tt.node;return Uint8Array.from(e(t))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>nt.hashToPrivateKey(nt.randomBytes(40)),sha256:async(...t)=>{if(tt.web){const e=await tt.web.subtle.digest("SHA-256",x(...t));return new Uint8Array(e)}if(tt.node){const{createHash:e}=tt.node,n=e("sha256");return t.forEach((t=>n.update(t))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(tt.web){const n=await tt.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=x(...e),o=await tt.web.subtle.sign("HMAC",n,r);return new Uint8Array(o)}if(tt.node){const{createHmac:n}=tt.node,r=n("sha256",t);return e.forEach((t=>r.update(t))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let n=et[t];if(void 0===n){const e=await nt.sha256(Uint8Array.from(t,(t=>t.charCodeAt(0))));n=x(e,e),et[t]=n}return nt.sha256(n,...e)},taggedHashSync:(t,...e)=>{if("function"!==typeof j)throw new d("sha256Sync is undefined, you need to set it");let n=et[t];if(void 0===n){const e=j(Uint8Array.from(t,(t=>t.charCodeAt(0))));n=x(e,e),et[t]=n}return j(n,...e)},precompute(t=8,e=b.BASE){const n=e===b.BASE?e:new b(e.x,e.y);return n._setWindowSize(t),n.multiply(a),n}};Object.defineProperties(nt,{sha256Sync:{configurable:!1,get:()=>j,set(t){j||(j=t)}},hmacSha256Sync:{configurable:!1,get:()=>D,set(t){D||(D=t)}}})}}]);
//# sourceMappingURL=3823.91426c230ac398d2.js.map