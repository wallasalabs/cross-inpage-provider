(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6825],{17689:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return u}});var t=n(67294),o=n(12637),i=n(29513);function u(){var e=(0,t.useRef)(null);return(0,t.useLayoutEffect)((function(){var r,n;e.current&&null!=(r=e.current)&&r.contentWindow?window.hostBridge=new o.el({remoteFrame:null==(n=e.current)?void 0:n.contentWindow,remoteFrameName:"FRAME",selfFrameName:"HOST",channel:"onekey-js-sdk",receiveHandler:function(e){var r=e.data,n=r.method,t=r.params;if(console.log("receiveHandler >>>>> ",{method:n,params:t}),"hi"===n)return"from HOST: hahahah";if("hello"===n)return{message:"from HOST: okok"};if("error"===n)throw new Error("from HOST: something is wrong")}}):console.error("iframe not ready")}),[]),t.createElement("div",null,["hi","hello","error"].map((function(e,r){return t.createElement("button",{key:e,onClick:function(){(0,i.b)({method:e,params:[{index:r}]},window.hostBridge)}},"sendToFrame (",e,")")})),t.createElement("iframe",{ref:e,src:"/iframe/frame",style:{width:"100%",height:"400px"},frameBorder:0}))}},29513:function(e,r,n){"use strict";n.d(r,{b:function(){return i}});var t=n(64687),o=n.n(t);function i(e,r){var n,t,i;return o().async((function(u){for(;;)switch(u.prev=u.next){case 0:return n=e.method,t=e.params,u.prev=1,u.next=4,o().awrap(null==r?void 0:r.request({scope:"$hardware_sdk",data:{method:n,params:t}}));case 4:i=u.sent,console.log("result >>>>",n," --\x3e ",i),u.next=11;break;case 8:u.prev=8,u.t0=u.catch(1),console.error("bridge send ERROR response: ",n," --\x3e ",u.t0);case 11:case"end":return u.stop()}}),null,null,[[1,8]],Promise)}},34155:function(e){var r,n,t=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(n){try{return r.call(null,e,0)}catch(n){return r.call(this,e,0)}}}!function(){try{r="function"===typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"===typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var c,a=[],s=!1,l=-1;function f(){s&&c&&(s=!1,c.length?a=c.concat(a):l=-1,a.length&&h())}function h(){if(!s){var e=u(f);s=!0;for(var r=a.length;r;){for(c=a,a=[];++l<r;)c&&c[l].run();l=-1,r=a.length}c=null,s=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(r){try{return n.call(null,e)}catch(r){return n.call(this,e)}}}(e)}}function m(e,r){this.fun=e,this.array=r}function d(){}t.nextTick=function(e){var r=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)r[n-1]=arguments[n];a.push(new m(e,r)),1!==a.length||s||u(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=d,t.addListener=d,t.once=d,t.off=d,t.removeListener=d,t.removeAllListeners=d,t.emit=d,t.prependListener=d,t.prependOnceListener=d,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}}}]);
//# sourceMappingURL=6825.a86443a5af17b3a4.js.map