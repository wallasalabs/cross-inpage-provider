(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2178],{69135:function(e,n,t){"use strict";t.d(n,{p:function(){return c}});var r=t(67294),a=t(214),s=t.n(a);function c(e){var n=e.dapps;return r.createElement("div",{className:s().container},r.createElement("h3",null,"Top DApps"),r.createElement("ul",null,n.map((function(e){return r.createElement("li",{key:e.name},r.createElement("a",{href:e.url,target:"_blank"},e.name," \u2197"))}))))}},16051:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return w}});var r=t(86854),a=t(64687),s=t.n(a),c=t(67294),o=t(21299),l=t(68447),u=t(96486),i=t(13550),f=t.n(i),m=t(69135),d=[{name:"Paras",url:"https://paras.id/"},{name:"Learn Near Club",url:"https://learnnear.club/"},{name:"Ref Finance",url:"https://app.ref.finance/"}];function p(e){return new(f())(null!=e?e:"",10)}function w(){var e=(0,c.useState)(null),n=(0,r.Z)(e,2),t=n[0],a=n[1],i=(0,c.useState)(""),f=(0,r.Z)(i,2),w=f[0],v=f[1],g=(0,c.useState)(""),h=(0,r.Z)(g,2),k=h[0],_=h[1],E=(0,c.useState)(""),C=(0,r.Z)(E,2),x=C[0],b=C[1],y=(0,c.useCallback)((function(){var e,n,r,a,c,o,i;return s().async((function(f){for(;;)switch(f.prev=f.next){case 0:if(t){f.next=2;break}return f.abrupt("return",[]);case 2:return e=(0,u.random)(100,900)/1e4,n=(0,u.random)(100,900)/1e4,r=l.transactions.transfer(p(l.utils.format.parseNearAmount(""+e))),a=l.transactions.transfer(p(l.utils.format.parseNearAmount(""+n))),f.next=8,s().awrap(t.createTransaction({receiverId:"bitcoinzhuo.testnet",actions:[r,a],nonceOffset:1}));case 8:return c=f.sent,f.next=11,s().awrap(t.createTransaction({receiverId:"evmzyz.testnet",actions:[a],nonceOffset:2}));case 11:return o=f.sent,i=[c,o],f.abrupt("return",i);case 14:case"end":return f.stop()}}),null,null,null,Promise)}),[t]),q=(0,c.useCallback)((function(e){var n,t,r,a,s=(null==e||null==(n=e.accounts)||null==(t=n[0])?void 0:t.accountId)||"",c=(null==e||null==(r=e.accounts)||null==(a=r[0])?void 0:a.publicKey)||"";console.log("near onAccountsChanged >>>",s,c),v(s),_(c)}),[]),P=(0,c.useCallback)((function(e){console.log("near onNetworkChanged >>>",e),b(e.networkId)}),[]),I=(0,c.useMemo)((function(){return{networkId:"testnet",nodeUrl:"https://rpc.testnet.near.org",headers:{},keyStore:new l.keyStores.BrowserLocalStorageKeyStore}}),[]);return(0,c.useEffect)((function(){var e=new o.qG({transactionCreator:void 0});return e.on("accountsChanged",q),e.on("networkChanged",P),window.provider=e,function(){var n,t,r,c,o,l;s().async((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,s().awrap(e.detectWalletInstalled());case 2:if(!u.sent){u.next=14;break}return a(e),u.next=7,s().awrap(e.request({method:"near_accounts"}));case 7:return o=u.sent,v((null==o||null==(n=o.accounts)||null==(t=n[0])?void 0:t.accountId)||""),_((null==o||null==(r=o.accounts)||null==(c=r[0])?void 0:c.publicKey)||""),u.next=12,s().awrap(e.request({method:"near_networkInfo"}));case 12:l=u.sent,b((null==l?void 0:l.networkId)||"");case 14:case"end":return u.stop()}}),null,null,null,Promise)}(),function(){e.off("accountsChanged",q),e.off("networkChanged",P)}}),[I,q,P]),c.createElement("div",null,c.createElement(m.p,{dapps:d}),!t&&c.createElement("a",{target:"_blank",href:"https://www.onekey.so/download/"},"Install OneKey Extension \u2192"),t&&c.createElement("div",null,c.createElement("div",null,"accountId: ",c.createElement("strong",null,w)),c.createElement("div",null,"publicKey: ",c.createElement("strong",null,k)),c.createElement("div",null,"localNetworkId: ",c.createElement("strong",null,t._networkId)," ",c.createElement("button",null,"switch TODO")),c.createElement("div",null,"walletNetworkId: ",c.createElement("strong",null,x)),c.createElement("div",null,"providerVersion: ",c.createElement("strong",null,"v",t.version)),c.createElement("hr",null),c.createElement("button",{onClick:function(){var e;return s().async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s().awrap(null==t?void 0:t.request({method:"near_requestAccounts"}));case 2:e=n.sent,console.log("near_requestAccounts",e,e.accounts);case 4:case"end":return n.stop()}}),null,null,null,Promise)}},"near_requestAccounts"),c.createElement("button",{onClick:function(){var e;return s().async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s().awrap(null==t?void 0:t.requestSignIn());case 2:e=n.sent,console.log("requestSignIn",e,e.accounts);case 4:case"end":return n.stop()}}),null,null,null,Promise)}},"requestSignIn"),c.createElement("hr",null),c.createElement("button",{onClick:function(){return null==t?void 0:t.request({method:"near_signOut"})}},"near_signOut"),c.createElement("button",{onClick:function(){return null==t?void 0:t.signOut()}},"signOut"),c.createElement("hr",null),c.createElement("button",{onClick:function(){var e;return s().async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s().awrap(null==t?void 0:t.request({method:"near_accounts",params:[]}));case 2:e=n.sent,console.log("near_accounts",e,e.accounts);case 4:case"end":return n.stop()}}),null,null,null,Promise)}},"near_accounts"),c.createElement("button",{onClick:function(){var e;return s().async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s().awrap(null==t?void 0:t.request({method:"near_networkInfo",params:[]}));case 2:e=n.sent,console.log("near_networkInfo",e,e.networkId);case 4:case"end":return n.stop()}}),null,null,null,Promise)}},"near_networkInfo"),c.createElement("button",{onClick:function(){var e;return s().async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s().awrap(null==t?void 0:t.request({method:"near_accountNonce",params:[]}));case 2:e=n.sent,console.log("near_accountNonce",e);case 4:case"end":return n.stop()}}),null,null,null,Promise)}},"near_accountNonce"),c.createElement("button",{onClick:function(){var e;return s().async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s().awrap(null==t?void 0:t.request({method:"near_blockInfo",params:[]}));case 2:e=n.sent,console.log("near_blockInfo",e);case 4:case"end":return n.stop()}}),null,null,null,Promise)}},"near_blockInfo"),c.createElement("hr",null),c.createElement("div",null,c.createElement("button",{onClick:function(){var e,n;return s().async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s().awrap(y());case 2:return e=r.sent,r.next=5,s().awrap(t.request({method:"near_sendTransactions",params:{transactions:e}}));case 5:n=r.sent,console.log("near_sendTransactions",n,n.transactionHashes);case 7:case"end":return r.stop()}}),null,null,null,Promise)}},"near_sendTransactions"),c.createElement("button",{onClick:function(){var e,n;return s().async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s().awrap(y());case 2:return e=r.sent,r.next=5,s().awrap(t.requestSignTransactions({transactions:e}));case 5:n=r.sent,console.log("requestSignTransactions",n,n.transactionHashes);case 7:case"end":return r.stop()}}),null,null,null,Promise)}},"requestSignTransactions"),c.createElement("button",{onClick:function(){var e,n;return s().async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s().awrap(y());case 2:return e=r.sent,r.next=5,s().awrap(t.request({method:"near_signTransactions",params:{transactions:e}}));case 5:n=r.sent,console.log("near_signTransactions",n,n.signatures);case 7:case"end":return r.stop()}}),null,null,null,Promise)}},"near_signTransactions"),c.createElement("button",null,"TODO Send USDT Token (mainnet only)"),c.createElement("button",{onClick:function(){var e,n,r,a,c,o,i;return s().async((function(f){for(;;)switch(f.prev=f.next){case 0:return e=(0,u.random)(100,900)/1e4,n=(0,u.random)(100,900)/1e4,r=l.utils.format.parseNearAmount(e.toString()),a=l.transactions.transfer(p(r)),c=l.transactions.transfer(p(l.utils.format.parseNearAmount(n.toString()))),o=t.account(),f.next=8,s().awrap(o.signAndSendTransaction({receiverId:"evmzyz.testnet",actions:[a,c]}));case 8:i=f.sent,console.log("signAndSendTransaction",i,i.status);case 10:case"end":return f.stop()}}),null,null,null,Promise)}},"signAndSendTransaction (legacy)"),c.createElement("hr",null),c.createElement("button",{onClick:function(){var e;return s().async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s().awrap(t.request({method:"near_signMessages",params:{messages:["hello world","onekey near wallet"]}}));case 2:e=n.sent,console.log("near_signMessages",e,e.signatures);case 4:case"end":return n.stop()}}),null,null,null,Promise)}},"near_signMessages"),c.createElement("button",{onClick:function(){var e;return s().async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s().awrap(t.requestSignMessages({messages:["hello world","onekey near wallet"]}));case 2:e=n.sent,console.log("requestSignMessages",e,e.signatures);case 4:case"end":return n.stop()}}),null,null,null,Promise)}},"requestSignMessages"),c.createElement("hr",null),c.createElement("button",{onClick:function(){var e;return s().async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s().awrap(t.request({method:"query",params:{request_type:"view_access_key_list",account_id:"c3be856133196da252d0f1083614cdc87a85c8aa8abeaf87daff1520355eec53",finality:"optimistic"}}));case 2:e=n.sent,console.log("RPC Call: view_access_key_list",e);case 4:case"end":return n.stop()}}),null,null,null,Promise)}},"RPC Call: view_access_key_list"),c.createElement("button",{onClick:function(){var e;return s().async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s().awrap(t.request({method:"gas_price",params:[null]}));case 2:e=n.sent,console.log("RPC Call: gas_price",e);case 4:case"end":return n.stop()}}),null,null,null,Promise)}},"RPC Call: gas_price"),c.createElement("button",{onClick:function(){var e;return s().async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s().awrap(t.request({method:"status",params:[]}));case 2:e=n.sent,console.log("RPC Call: status",e);case 4:case"end":return n.stop()}}),null,null,null,Promise)}},"RPC Call: status"),c.createElement("button",{onClick:function(){var e;return s().async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s().awrap(t.request({method:"network_info",params:[]}));case 2:e=n.sent,console.log("RPC Call: network_info",e);case 4:case"end":return n.stop()}}),null,null,null,Promise)}},"RPC Call: network_info"))))}window.nearAPI=l,window.OneKeyNearProvider=o.qG},46601:function(){},71456:function(){},73105:function(){},55024:function(){}}]);
//# sourceMappingURL=2178.f8fbe614d6e1e5dd.js.map