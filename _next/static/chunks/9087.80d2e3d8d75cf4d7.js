(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9087],{89945:function(e,n,t){"use strict";t.d(n,{F:function(){return a}});var a=[{name:"SEAM",url:"https://app.seam.money/"},{name:"Aptos Names",url:"https://www.aptosnames.com/"},{name:"Liquid Swap",url:"https://liquidswap.com/#/"}]},54124:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return f}});var a=t(86854),c=t(64687),r=t.n(c),o=t(67294),s=t(63596),l=t(69135),u=t(89945),i=t(84284);function f(){var e=function(){var e=(0,o.useState)(),n=(0,a.Z)(e,2),t=n[0],c=n[1];return(0,o.useEffect)((function(){console.log("useProvider",window.martian);var e=window.martian||new s.GR({});c(e)}),[]),t}(),n=(0,o.useState)(""),t=(0,a.Z)(n,2),c=t[0],f=t[1],p=(0,o.useState)(!1),d=(0,a.Z)(p,2),m=d[0],g=d[1],b=(0,o.useState)(null),w=(0,a.Z)(b,2),x=w[0],v=w[1],C=(0,o.useState)("OneKey-Collection"),h=(0,a.Z)(C,2),E=h[0],y=h[1],T=(0,o.useState)("OneKey-NFT-1"),k=(0,a.Z)(T,2),S=k[0],A=k[1];if((0,o.useEffect)((function(){if(e)return e.onNetworkChange((function(e){f(e),console.log("aptos [onNetworkChange] "+e)})),e.onAccountChange((function(n){v(n),n?(g(!0),console.log("aptos [onAccountChange] Switched account to "+n)):(g(!1),console.log("aptos [onAccountChange] Switched unknown account"),e.connect().then((function(){return console.log("[accountChanged] Reconnected successfully")})).catch((function(e){console.log("[accountChanged] Failed to re-connect: "+e.message)})))})),function(){e.disconnect()}}),[e]),!e)return o.createElement("h2",null,"Could not find a provider");var N=function(){var n,t,a,c;return r().async((function(o){for(;;)switch(o.prev=o.next){case 0:return n=x,t={function:"0x1::coin::transfer",type_arguments:["0x1::aptos_coin::AptosCoin"],arguments:[x,50]},a={max_gas_amount:"10000"},o.next=5,r().awrap(e.generateTransaction(n,t,a));case 5:return c=o.sent,console.log("[generateTransaction]",c),o.abrupt("return",c);case 8:case"end":return o.stop()}}),null,null,null,Promise)},P=function(){var n,t;return r().async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r().awrap(N());case 2:return n=a.sent,a.next=5,r().awrap(e.signTransaction(n));case 5:return t=a.sent,console.log("[signTransaction]",t),a.abrupt("return",t);case 8:case"end":return a.stop()}}),null,null,null,Promise)};return o.createElement("div",null,o.createElement(l.p,{dapps:u.F}),!e&&o.createElement("a",{target:"_blank",href:"https://www.onekey.so/download/"},"Install OneKey Extension \u2192"),o.createElement("main",null,e&&m?o.createElement(o.Fragment,null,o.createElement("div",null,o.createElement("pre",null,"Network: ",c),o.createElement("pre",null,"Connected as: ",x)),o.createElement("button",{onClick:N},"Generate Transaction"),o.createElement("button",{onClick:function(){var n,t;return r().async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r().awrap(N());case 2:return n=a.sent,a.next=5,r().awrap(e.signAndSubmitTransaction(n));case 5:t=a.sent,console.log("[signAndSubmitTransaction]",t);case 7:case"end":return a.stop()}}),null,null,null,Promise)}},"Sign&Send Transaction"),o.createElement("button",{onClick:P},"Sign Transaction "),o.createElement("button",{onClick:function(){var n,t;return r().async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r().awrap(P());case 2:return n=a.sent,a.next=5,r().awrap(e.submitTransaction(n));case 5:t=a.sent,console.log("[submitTransaction]",t);case 7:case"end":return a.stop()}}),null,null,null,Promise)}},"Submit Transaction "),o.createElement("button",{onClick:function(){var n;return r().async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r().awrap(e.signGenericTransaction({func:"0x1::coin::transfer",args:[x,500],type_args:["0x1::aptos_coin::AptosCoin"]}));case 2:n=t.sent,console.log("[signGenericTransaction]",n);case 4:case"end":return t.stop()}}),null,null,null,Promise)}},"Sign Generic Transaction "),o.createElement("button",{onClick:function(){var n,t,a;return r().async((function(c){for(;;)switch(c.prev=c.next){case 0:return n=x,t={function:"0x1::coin::transfer",type_arguments:["0x1::aptos_coin::AptosCoin"],arguments:[x,50]},c.next=4,r().awrap(e.generateSignAndSubmitTransaction(n,t));case 4:a=c.sent,console.log("[generateSignAndSubmitTransaction]",a);case 6:case"end":return c.stop()}}),null,null,null,Promise)}},"Generate Sign&Send Transaction"," "),o.createElement("button",{onClick:function(){var n;return r().async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r().awrap(e.signMessage({address:!1,application:!0,chainId:!0,message:"This is a sample message",nonce:12345}));case 2:n=t.sent,console.log("[signMessage]",n);case 4:case"end":return t.stop()}}),null,null,null,Promise)}},"Sign Message"),o.createElement("button",{onClick:function(){var n;return r().async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r().awrap(e.getTransactions());case 2:n=t.sent,console.log("[getTransactions]",n);case 4:case"end":return t.stop()}}),null,null,null,Promise)}},"Get Transactions"),o.createElement("button",{onClick:function(){var n;return r().async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r().awrap(e.getTransaction("0xbeb1f8c4e66bf0f58afca8c83338fd9a54490d46ce25fe9c8674b67f1e7bbd3a"));case 2:n=t.sent,console.log("[getTransaction]",n);case 4:case"end":return t.stop()}}),null,null,null,Promise)}},"Get Transaction"),o.createElement("button",{onClick:function(){var n;return r().async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r().awrap(e.getAccountTransactions(x));case 2:n=t.sent,console.log("[getAccountTransactions]",n);case 4:case"end":return t.stop()}}),null,null,null,Promise)}},"Get Account Transaction"),o.createElement("button",{onClick:function(){var n;return r().async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r().awrap(e.getAccountResources(x));case 2:n=t.sent,console.log("[getAccountResources]",n);case 4:case"end":return t.stop()}}),null,null,null,Promise)}},"Get Account Resources"),o.createElement("button",{onClick:function(){var n;return r().async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r().awrap(e.getAccount(x));case 2:n=t.sent,console.log("[getAccount]",n);case 4:case"end":return t.stop()}}),null,null,null,Promise)}},"Get Account"),o.createElement("button",{onClick:function(){var n;return r().async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r().awrap(e.getChainId());case 2:n=t.sent,console.log("[getChainId]",n);case 4:case"end":return t.stop()}}),null,null,null,Promise)}},"Get ChainId"),o.createElement("button",{onClick:function(){var n;return r().async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r().awrap(e.getLedgerInfo());case 2:n=t.sent,console.log("[getLedgerInfo]",n);case 4:case"end":return t.stop()}}),null,null,null,Promise)}},"Get LedgerInfo"),o.createElement("button",{onClick:function(){return r().async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r().awrap(e.disconnect());case 3:n.next=9;break;case 5:n.prev=5,n.t0=n.catch(0),console.warn(n.t0),console.log("[error] disconnect: "+JSON.stringify(n.t0));case 9:case"end":return n.stop()}}),null,null,[[0,5]],Promise)}},"Disconnect"),o.createElement("br",null),o.createElement("br",null),o.createElement("div",{style:{border:"1px solid #cccccc",flexDirection:"column"}},o.createElement("pre",null,"Collection Name: ",o.createElement("input",{type:"text",placeholder:"Collection Name",value:E,onChange:function(e){return y(e.target.value)}})," \u4e0d\u80fd\u91cd\u540d\uff0c\u8981\u6539\u540d\u5b57\u3002"),o.createElement("pre",null,o.createElement("button",{onClick:function(){var n;return r().async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r().awrap(e.createCollection(E,"CollectionDescription","https://aptos.dev"));case 2:n=t.sent,console.log("[createCollection]",n);case 4:case"end":return t.stop()}}),null,null,null,Promise)}},"Create Collection"))),o.createElement("br",null),o.createElement("div",{style:{border:"1px solid #cccccc",flexDirection:"column"}},o.createElement("pre",null,"Collection Name: ",o.createElement("input",{type:"text",placeholder:"Collection Name",value:E,onChange:function(e){return y(e.target.value)}})," \u6307\u5b9a\u94fe\u4e0a\u5df2\u7ecf\u5b58\u5728\u7684 Collection Name\u3002"),o.createElement("pre",null,"NFT Name: ",o.createElement("input",{type:"text",placeholder:"Token Name",value:S,onChange:function(e){return A(e.target.value)}})," NFT Name \u4e0d\u80fd\u91cd\u540d\uff0c\u8981\u6539\u540d\u5b57\u3002"),o.createElement("pre",null,o.createElement("button",{onClick:function(){var n;return r().async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r().awrap(e.createToken(E,S,"TokenDescription",1,"https://aptos.dev/img/nyan.jpeg",1));case 2:n=t.sent,console.log("[createToken]",n);case 4:case"end":return t.stop()}}),null,null,null,Promise)}},"Create Token"))),o.createElement("br",null),o.createElement("div",{style:{border:"1px solid #cccccc",flexDirection:"column"}},"Msafe Multi-signature Demo (Mainnet)",o.createElement("pre",null,o.createElement("button",{onClick:function(){var n,t,a,c,o,s,l,u,f,p,d;return r().async((function(m){for(;;)switch(m.prev=m.next){case 0:return n=function(e){return i.Kj.AccountAddress.fromHex(e)},t="0xaa90e0d9d16b63ba4a289fb0dc8d1b454058b21c9b5c76864f825d5c1f32582e",a=new i.Ce.Serializer,c=["0x5c7b342e9ee2e582ad16fb602e8ebb6ba39b3bfa02a4fd3865853b10dc75765f","0xa3f6a53c57395401ce64f09a188e2259dc9b156387e76c88a7a80a8fe5254476"],i.Ce.serializeVector(c.map((function(e){return n(e)})),a),o=new i.Kj.TransactionPayloadEntryFunction(i.Kj.EntryFunction.natural("0xaa90e0d9d16b63ba4a289fb0dc8d1b454058b21c9b5c76864f825d5c1f32582e::creator","init_wallet_creation",[],[a.getBytes(),i.Ce.bcsSerializeU8(2),i.Ce.bcsSerializeUint64(1e7),i.Ce.bcsSerializeBytes(new i.i8("b5e97db07fa0bd0e5598aa3643a9bc6f6693bddc1a9fec9e674a461eaa00b193a527b6487c9ba480a3dbfbc351a3fcafd0a5044a0b3c877f759fa5df64a692f1000000000000000002aa90e0d9d16b63ba4a289fb0dc8d1b454058b21c9b5c76864f825d5c1f32582e0d6d6f6d656e74756d5f7361666508726567697374657200010c0b77616c6c6574206e616d65e02e0000000000007800000000000000fa7984630000000001").toUint8Array()),i.Ce.bcsSerializeBytes(new i.i8("fc284900723375e6b087a166c04edf6a1b71a361ad671608a849b733a878aaf910150dcf28e0f197675137abb328db6b55a6d98bee53413ad49c16549c1f0701").toUint8Array())])),m.next=8,r().awrap(e.getAccount(t).then((function(e){return BigInt(e.sequence_number)+BigInt(1)})));case 8:return s=m.sent,l=new i.Kj.RawTransaction(i.Kj.AccountAddress.fromHex(t),s,o,BigInt(20123),BigInt(123),BigInt(1793884475),new i.Kj.ChainId(1)),u=i.Ce.bcsToBytes(l),m.next=13,r().awrap(e.signTransaction(i.i8.fromUint8Array(u).noPrefix()));case 13:f=m.sent,p=Uint8Array.from(f.split(",").map((function(e){return Number(e)}))),d=i.Kj.SignedTransaction.deserialize(new i.Ce.Deserializer(p)),console.log("[msafeMultiSignature] success ",JSON.stringify(d,(function(e,n){return"bigint"===("undefined"===typeof n?"undefined":(t=n)&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t)?n.toString():n;var t})));case 17:case"end":return m.stop()}}),null,null,null,Promise)}},"Sign Transaction")))):o.createElement(o.Fragment,null,o.createElement("button",{onClick:function(){return function(){var n,t;return r().async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,r().awrap(e.connect());case 3:return n=a.sent,a.next=6,r().awrap(e.network());case 6:t=a.sent,v(n.address),f(t),g(!0),console.log("[connectWallet] account",n,t),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(0),console.warn(a.t0),console.log("[error] connect: "+JSON.stringify(a.t0));case 17:case"end":return a.stop()}}),null,null,[[0,13]],Promise)}()}},"Connect Wallet"))))}},69135:function(e,n,t){"use strict";t.d(n,{p:function(){return o}});var a=t(67294),c=t(214),r=t.n(c);function o(e){var n=e.dapps;return a.createElement("div",{className:r().container},a.createElement("h3",null,"Top DApps"),a.createElement("ul",null,n.map((function(e){return a.createElement("li",{key:e.name},a.createElement("a",{href:e.url,target:"_blank"},e.name," \u2197"))}))))}},55024:function(){}}]);
//# sourceMappingURL=9087.80d2e3d8d75cf4d7.js.map